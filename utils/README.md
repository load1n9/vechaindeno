ported to deno from the thor dev kit library